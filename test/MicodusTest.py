from protocols.MicodusProtocol import MicodusProtocol
import pytest


def test_device_id():
    protocol = MicodusProtocol()
    device_id = b"\x01\x91\x75\x95\x64\x62"
    message = b"\x7e\x01\x00\x00\x2d\x01\x91\x75\x95\x64\x62\x00\x1e\x00\x00\x00\x00\x37\x30\x31\x31\x32\x53\x45\x47\x2d\x39\x38\x38\x38\x47\
            \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x35\x39\x35\x36\x34\x36\x32\x00\x37\x35\x39\x35\x36\x34\x36\x32\x7c\x7e"
    assert protocol.identify_device_id(message) == device_id    